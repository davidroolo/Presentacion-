jQuery(function(e){var d=e(window);function i(){return document.location.host.indexOf("admin")!==-1}(function f(){window.Poll.init=function(){e("body").on("submit",".poll-form",{poll:this},this.formSubmit)};if(window.Poll.votedPolls().length){var k=window.Poll.votedPolls();e("#poll-"+k[0].id).addClass("poll-voted")}e(document).on("wfcms-poll-voted",function(){e(".vote-successful").show();e(".poll-question").hide();e(".poll-image").hide();e(".results-title").hide()});e("body").on("click",".poll a.link",function(){e(this).parent().hide();if(e("body").find("div.specials").length){e(".poll-image").show();e(".poll-question").show();e(".poll-results").show();e(".poll-form").hide();e(".results-title").show()}else{e(".poll-results").show();e(".results-title").show();e(".poll-form").hide()}})})();var a=false;function b(){if(a){return}a=true;var q=e(".gallery-latest").find(".multimedia-latest-items");var o=q.find("article");var p=e(".slider");if(o.length){var l=e('<div class="overlay_slider slider-with-arrows"></div>');l.append('<a href="#" class="latest-close-button"></a><div class="more-galleries">MÁS GALERÍAS</div><div class="slider-pane"></div><div class="slider-buttons"><div class="slider-button left-arrow"></div><div class="slider-button right-arrow"></div></div>');var m="";e.each(o,function(r,s){if(r==0||r==2){m=m+'<div class="slide"><div class="multimedia-latest multimedia-latest-small gallery-latest-small">'}m=m+'<div class="article-multimedia">'+e(s).html()+"</div>";if(r==(o.length-1)||r==1){m=m+"</div></div>";l.find(".slider-pane").append(m);m=""}});p.find(".slider-buttons").hide();p.find(".gallery-zoom").hide();p.parent().append(l);if(!l.data("slider")){sliderModalInit(l)}var n=p.find(".slide").length;l.on("wf-slider-slide-after",function(){if(p.find(".count-index").html()==1){if(l.find(".slide").length==1){e(this).find(".right-arrow, .right-arrow a").removeClass("disabled");e(this).find(".right-arrow a").addClass("back-to-gallery")}else{e(this).find(".right-arrow a").removeClass("back-to-gallery")}}else{if(p.find(".count-index").html()==2){e(this).find(".right-arrow, .right-arrow a").removeClass("disabled");e(this).find(".right-arrow a").addClass("back-to-gallery")}}p.find(".count-index").html(1);p.find(".count-total").html(n)});e(document).on("click",".back-to-gallery",function(r){r.preventDefault();k()});l.find(".latest-close-button").click(function(r){r.preventDefault();k()});var k=function(){p.find(".slider-buttons, .gallery-zoom").show();l.remove();a=false}}}window.sas_loadHandler=function(k){$pauta=e("#sas_"+k.id).closest(".slider-ads");if($pauta.length>0){$pauta.attr("hasAd",k.hasAd);var l=true;e(".slider-ads").each(function(){if(e(this).find(".module-free-html").length>0&&!e(this).attr("hasAd")){l=false}});if(l){setTimeout(h)}}if(!k.hasAd&&k.id=="32365"){e(".articulo-contenido").last().css("min-height",0)}};function h(){var p=e(".slider");var m=p.find(".slide").not(".bx-clone").length;var o=e(".slider-ads");var n=p.find(".slide:eq(0) .slider-details-social").html();var l=e(".slider-ads:eq(0)");var k=e(".slider-ads:eq(1)");if(l.find(".ads-container div").length>0||k.find(".ads-container div").length>0){if(l.find("div").length&&e("body").find(".wf-page-container").length<=0&&e(".slide").not(".bx-clone").length>3){p.find(".bx-next").remove();p.find(".bx-prev").remove();p.find(".counter").remove();p.find(".gallery-zoom").remove();if(m>=4&&((l.attr("hasAd")=="true"&&l.find(".ads-container div").length>0)||(l.find(".module-free-html div").length>0&&l.find(".module-free-html div.ad-unit").length<=0))){l.find(".module-free-html script").remove();p.find(".slide:eq(3)").not(".bx-clone").after('<div class="slide" style="height:576px;"><div class="slide-ads">'+l.find(".module-free-html").html()+'<div class="slider-details-container ads-details"><div class="slider-details-social"></div></div></div></div>')}if(m>=10&&((k.attr("hasAd")=="true"&&k.find(".ads-container div").length>0)||(k.find(".module-free-html div").length>0&&k.find(".module-free-html div.ad-unit").length<=0))){k.find(".module-free-html script").remove();p.find(".slide:eq(8)").not(".bx-clone").after('<div class="slide" style="height:576px;"><div class="slide-ads">'+k.find(".module-free-html").html()+'<div class="slider-details-container ads-details"><div class="slider-details-social"></div></div></div></div>')}e(".multimedia .slider-ads").empty().detach();delete e(".multimedia .slider-ads");e("body").on("DOMNodeRemoved",".multimedia .slider-ads",function(){e.each((e(".slider .module-free-html .ad-unit")),function(q,r){if(e(this).find("a").length>1){e(this).find("div:last").remove()}if(e(this).find("div").length>1){e(this).find("a").not(":first").remove()}})});e(".slide.bx-clone").remove();e(".slider-pane").unwrap().unwrap();sliderModalInit(p)}if(e(".slide").not(".bx-clone").length<4){e(".multimedia .slider-ads").empty().detach();delete e(".multimedia .slider-ads");e("body").on("DOMNodeRemoved",".multimedia .slider-ads",function(){e.each((e(".slider .module-free-html .ad-unit")),function(q,r){if(e(this).find("a").length>1){e(this).find("div:last").remove()}if(e(this).find("div").length>1){e(this).find("a").not(":first").remove()}})})}}}(function g(){if(e("article.article").hasClass("gallery")){var k=e(".slider");if(k.data("slider")&&e(".slide").not(".bx-clone").length>3){k.on("wf-slider-slide-after",function(){var m=k.find(".slideIndex .count-index").not(".bx-clone").html();var l=k.find(".slideIndex .count-total").not(".bx-clone").html();if(m==l){k.find(".slider-buttons .right-arrow").removeClass("disabled").find(".bx-next").removeClass("disabled").one("click",function(){k.find(".bx-next").trigger("open-overlay");k.trigger("reset-to-first-slide")})}k.find(".slider-buttons .right-arrow .bx-next").one("open-overlay",function(){b()})})}}})();(function c(){var k=e(".graphic .graphic-iframe-module");k.attr("src",k.data("src-desktop"));k.attr("height",k.data("frameheight-desktop")+"px");k.removeAttr("data-src-desktop");k.removeAttr("data-src-mobile");k.removeAttr("data-frameheight-mobile");k.removeAttr("data-frameheight-desktop")})();(function j(){e(window).load(function(){if(!e(".article").next("span").hasClass("scroll-load-path")){e(".article").find(".articulo-ayuda").remove()}e(".sidebar-article-latest").show();e("#selectionSharerPopover-inner .tweet").attr("title","Comparte esta selección en Twitter");e("#selectionSharerPopover-inner .facebook").attr("title","Comparte esta selección en Facebook");var k=document.location.href;if(typeof(FB)=="object"){FB.api("/","GET",{id:k,access_token:"621809747895524|hAyyoAVk_853LQEnlyoqqBW0Wok"},function(l){if(l&&l.share){var m=l.share.share_count;if(m){if(m>=1000){m=(Math.round((m/100))/10)+"k"}e(".fbcount").text(m)}}})}})})();(function(){if(e("body").find(".multimedia.video").length<=0&&e("body").find(".multimedia.galeria").length<=0){var k=new window.SelectionSharer();k.setElements("article.article");e(document).on("wf-cms:article-load",function(n,m){k.setElements("article.article")});k.shareEmail=function(n){n.preventDefault();var o=e(".open-share-by-email-popup").eq(0),m=e("#form-share-by-email");m.find('[name$="[message]"]').val(k.htmlSelection.replace(/<p[^>]*>/ig,"\n").replace(/<\/p>|  /ig,"").trim());o.click()};k.shareTwitter=function(o){o.preventDefault();var p=k.htmlSelection.replace(/<p[^>]*>/ig,"\n").replace(/<\/p>|  /ig,"").trim();if(p.length>117){var n=117-4;p=p.substring(0,n)+"..."}p=e("<div>"+p+"<div>").text();var m=$socialNav.find(".twitter").eq(0).clone().sharrre(e.extend(true,{},sharrreTwitterOptions,{text:p,}));m.click()};var l=k.shareFacebook;k.shareFacebook=function(n){n.preventDefault();var o=e("<div>"+k.htmlSelection.replace(/<p[^>]*>/ig,"\n").replace(/<\/p>|  /ig,"").trim()+"<div>").text();var m=$socialNav.find(".facebook").eq(0).clone().sharrre(sharrreFacebookOptions);m.click()};k.show=function(m){setTimeout(function(){var q=window.getSelection();var p=k.getSelectionText(q);if(!q.isCollapsed&&p&&p.length>10&&p.match(/ /)){var n=q.getRangeAt(0);var t=getSelectionDimensions();var o=n.getBoundingClientRect().top-5;var s=o+window.scrollY-k.$popover.height()/2+t.height/2;var r=t.left-k.$popover.width()-40;k.$popover.removeClass("anim").css("top",s+10).css("left",r).show();setTimeout(function(){k.$popover.addClass("anim").css("top",s)},0)}},10)};e.each(["Twitter","Facebook","Email"],function(m,n){k.$popover.find("a.action."+(n.toLowerCase()=="twitter"?"tweet":n.toLowerCase())).off("click").removeAttr("target").click(k["share"+n]);k.$popunder.find("a.action."+n.toLowerCase()).off("click").removeAttr("target").click(k["share"+n])})}})();e(function(){function k(l){e(function(){l.each(function(m){var o=e(this).find(".titulo").text();var n=e(this).find(".credito-image-bk .autor").text();if(o===n){if(e(this).hasClass("recurso_apertura")){e(this).find(".titulo").remove()}else{e(this).find(".credito-image-bk").remove()}}})})}k(e(".recurso_apertura, .articulo-contenido .foto-info"))})});
var contadorArticulos=[10,15,16,17,18];var ssoMeterType="signwall";var templateEnableCount=sitesMeter.split(",");var $count=0;var pautas=[];if(digitalData.page.premium==1){pautas=sas.cmd.slice();sas.cmd.length=0}function mostrarAlertaContenido(b,c){var a=$("#paywall");b=parseInt(b);c=parseInt(c);if(b>c){b=c;a.hide();$(".paywallv2").find(".title-pw .max-allowed").html(c)}$count=contadorArticulos.indexOf(b);if($.inArray(b,contadorArticulos)>=0&&$count<3){var d=["Has leído la mitad de los artículos disponibles sin iniciar sesión","Has leído más de la mitad de los artículos disponibles sin iniciar sesión","Estás leyendo el último artículo disponible del mes sin iniciar sesión"];$(".mensajeNot").html(d[$count]);a.find(".cerrarNot").click(function(){a.fadeOut("slow")});$(".signwall-notificacion").css("display","block");$(".paywall-notificacion").css("display","block");setTimeout(function(){$(".cerrarNot").removeAttr("style")},5000);a.css("display","block");a.fadeIn("slow")}}function mostrarAbstractEspecifico(){$(".login-registro-contenido").appendTo(".main-container");var a=$(".login-registro-contenido").find("#ob_iframe_resource");$url=$(".paywallv2-container").find("#ob_iframe").data("src")+"#especificos";a.attr("src",$url);$(".login-registro-contenido").show();window.lazyLoad();$("body").addClass("stop-scrolling menu-active");$(".paywallv2-container").addClass("stop-scrolling menu-active");$(".main-mobile-container").css("display","none");$("#ob_iframe_resource").addClass("stop-scrolling")}function mostrarContenido5(){setUserStatus(2);var a=$("#paywall");a.fadeOut("slow");$(".paywall").find(".contador-articulos").hide();if(!$("#paywall").is(":visible")||$("#paywall").is(":not(:hidden)")){$(".paywallv2-container").appendTo(".main-container");var b=$(".paywallv2-container").find("#ob_iframe");b.attr("src",b.data("src"));$(".paywallv2-container .paywall").hide();$(".paywallv2-container .signwall").show();$(".paywallv2-container").fadeIn("slow")}$(window).on("et-logged-in-success",function(){$(".paywallv2").fadeOut("slow")});$("body").addClass("stop-scrolling menu-active");$(".paywallv2-container").addClass("stop-scrolling menu-active");$(".main-mobile-container").css("display","none");$("#ob_iframe").addClass("stop-scrolling");document.oncontextmenu=function(){return false};_satellite_track("Hit Meter")}function mostrarContenido6(){setUserStatus(4);var a=$("#paywall");a.fadeOut("slow");$(".paywall").find(".contador-articulos").hide();if(!$("#paywall").is(":visible")||$("#paywall").is(":not(:hidden)")){$(".paywallv2-container").appendTo(".main-container");var b=$(".paywallv2-container").find("#ob_iframe");b.attr("src",b.data("src"));$(".paywallv2-container .paywall").show();$(".paywallv2-container .signwall").hide();$(".paywallv2-container").show()}$(window).on("et-logged-in-success",function(){$(".paywallv2").fadeOut("slow")});$("body").addClass("stop-scrolling menu-active");setTimeout(function(){$(".cerrarNot").removeAttr("style")},5000);$(".paywallv2-container").addClass("stop-scrolling menu-active");$(".main-mobile-container").css("display","none");$("#ob_iframe").addClass("stop-scrolling");document.oncontextmenu=function(){return false};_satellite_track("Hit Meter")}var flashvars={};var params={};var attributes={style:"display: none"};var nc="4563da6f176be58ebd5c29ac27bdefe6";if(typeof(swfobject)!="undefined"){swfobject.embedSWF("evoCookie.swf","evoCookie","1","1","10.0.0",false,flashvars,params,attributes)}function firedRule(a){var b=false;if(typeof _satellite=="object"){_satellite.each(_satellite.Logger.getHistory(),function(c){if(c[1].indexOf("fired")>=0&&c[1].indexOf('"'+a+'"')>=0){b=true}})}return b}function evoReady(b,a){if(typeof evoReady.ids=="undefined"){evoReady.ids=[b]}else{evoReady.ids.push(b)}if(templateEnableCount.indexOf(pageTemplate)<0){a();return}getPaywallEnabled().then(function(f){if(!f){if(typeof mostrarDmp=="function"){mostrarDmp()}a();return}idRecurso=b;refererId=document.referrer;ipaddress="";var g=null;g=getOriginalSession();var d=evoReady.identity;if(digitalData.page.premium=="1"){$(".content_grid.content_grid_header").addClass("ctp")}if(d&&d.subscription){if(typeof mostrarDmp=="function"){mostrarDmp()}$(".cont-mask").removeClass("cont-mask");$(".ctp_abstract").remove();for(i=0;i<pautas.length;i++){try{sas.cmd.push(pautas[i])}catch(h){return""}}a()}else{if(digitalData.page.premium=="1"){if(evoReady.identity){$(".ctp_sesion").remove()}mostrarAbstractPremium();a()}else{if($(".login-registro-contenido .signwall").html()&&!evoReady.identity){mostrarAbstractEspecifico();a()}else{var c=ssoMeterPath;$.getJSON(c,{idRecurso:idRecurso,originalSession:g,referer:refererId,ipaddress:ipaddress}).done(function(j){processDataMeter(j)}).always(function(j){a()})}}}})}function errorPaywall(){mostrarContenido6()}function processDataMeter(l){window.evoStatus="evoStatus";window.evoContador="evoContador";if(l!=="error"&&l){var c=$.parseJSON(l);var a=c.actions.action;var k=c.metadata.parameter[0].value;var j=c.metadata.parameter[2].value;var g=(c.max!==undefined)?parseInt(c.max):18;try{flashcookie=getFlashMovie("evoCookie");if(flashcookie&&flashcookie.setStorage){getFlashMovie("evoCookie").setStorage("stored_evolok_ad_session",k);getFlashMovie("evoCookie").setStorage("stored_evolok_ad_contador",j)}}catch(d){}finally{try{if(typeof(localStorage)!="undefined"&&(typeof(localStorage)!=null)&&(window.localStorage)){localStorage.setItem(nc,""+k);localStorage.setItem(nc+"-contador",""+j)}}catch(d){}var f=new Date();var b=new Date();b.setTime(f.getTime()+1000*60*60*24*365);document.cookie=nc+"="+k+";domain="+window.location.hostname.match(/\..+/)+";path=/;expires="+b.toGMTString()}window.evoStatus=a;window.evoContador=j;if(a!==null){if(typeof a==="string"){a=a.split(",")}validatePaywallOrSignwall(g,j);switch(a[0]){case"ALLOW_ACCESS":if(typeof mostrarDmp=="function"){mostrarDmp()}if(getCmsCookie("login_check")!==null&&getCmsCookie("login_check")==1){break}else{if(j>g){break}else{break}}case"REQUIRE_LOGIN":$("#articulosleidos-abstract").html("<p>Ya leíste <strong>"+g+" artículos gratis</strong> este mes</p>");mostrarContenido5();break;case"REQUIRE_ENTITLEMENT":var h=ssoMeterType;if(h!==defaulMeterType){mostrarContenido6()}break;default:break}}else{mostrarContenido6()}}}function getOriginalSession(){try{if(typeof(getFlashMovie("evoCookie"))!="undefined"&&getFlashMovie("evoCookie")&&getFlashMovie("evoCookie").getStorage("stored_evolok_ad_session")){var c=getFlashMovie("evoCookie"),a=null;if(c&&c.getStorage){a=c.getStorage("stored_evolok_ad_session")}}}catch(b){}finally{try{if(typeof(a)=="undefined"||a==null||!a){if((typeof(localStorage)!="undefined")&&(typeof(localStorage)!=null)&&(window.localStorage)){a=localStorage.getItem(nc)}}}catch(b){}if(typeof a=="undefined"||a==null||!a){a=getOriginalSessionCookies()}}return a}function getOriginalSessionCookies(){cookies=document.cookie.split(";");esta_cookie=false;for(var a=0;a<cookies.length;a++){valorCookie=cookies[a].substr(cookies[a].indexOf("=")+1);nombreCookie=cookies[a].substr(0,cookies[a].indexOf("=")).replace(/^\s+|\s+$/g,"");if(typeof(nc)!=="undefined"&&nombreCookie==nc){esta_cookie=true;cookie=unescape(valorCookie);if(cookie!="undefined"){valor=cookie}else{valor=null}return valor}}if(esta_cookie==false){valor=null}return valor}try{$(function(){$("div.content_grid_articulos div.article-content img").each(function(){this.src=this.src.replace(/^http:\/\/r\.portafolio\.eltiempo\.com\.co/,"")})})}catch(e){}var paywallSettingsCache;function getPaywallSettings(){if(!paywallSettingsCache){paywallSettingsCache=$.Deferred();$.getJSON("/settings/paywall.json").then(function(a){paywallSettingsCache.resolve(a)})}return paywallSettingsCache.promise()}function getPaywallEnabled(){return getPaywallSettings().then(function(a){if(typeof a.et_paywall_articles_active=="string"&&a.et_paywall_articles_active.length>0){contadorArticulos=(a.et_paywall_articles_active).split(",").map(Number)}if(typeof a.et_paywall_configuration=="string"&&a.et_paywall_configuration.length>0){ssoMeterType=a.et_paywall_configuration}return typeof a.et_paywall_enabled==="undefined"||1===a.et_paywall_enabled})}function validatePaywallOrSignwall(a,b){if(ssoMeterType==="signwall"){if(getCmsCookie("logged")!="1"&&a>0){if(typeof(mostrarAlertaContenido)!=="undefined"){mostrarAlertaContenido(b,a)}}}else{if(getCmsCookie("logged")!="1"&&a>0){if(typeof(mostrarAlertaContenido)!=="undefined"){mostrarAlertaContenido(b,a)}}}}window.mostrarAbstractPremium=function(){$("#main-container").addClass("ctp-content");$(".ctp_abstract").show();document.oncontextmenu=function(){return false};if($(".bbc-mundo").size()<1){var d=0;var a=0;$("article.articulo .articulo-contenido .modulos").children().each(function(){if($("body").hasClass("mobile-version")){limite=450}else{limite=900}if(!$(this).hasClass("contenido")){$(this).remove()}else{$(".articulo-contenido").removeAttr("style");temporal=d;d=d+$(this).text().length;if(a==0){if(d>limite){diferencia=limite-temporal;$(this).text($(this).text().substr(0,diferencia));$(this).show();a=1}else{$(this).show()}}else{$(this).remove()}}});$(".galeria .sliders-container .slider-pane, .mobile-version .galeria .sliders-container .bx-wrapper").children().each(function(g){if(g>2){$(this).remove()}if(!$("body").hasClass("mobile-version")){if(g==2){$(this).find(".foto-galeria-multimedia").html($(".ctp-galeria").get(0))}}else{if(g==1||g==2){$(this).remove()}}});var f=$(".slider");var c=f.find(".slide").not(".bx-clone").length;if($("body").find(".wf-page-container").length<=0&&!$("body").hasClass("mobile-version")){var b=f.children(".counter").find(".count-total").text();f.find(".bx-next").remove();f.find(".bx-prev").remove();f.find(".counter").remove();f.find(".gallery-zoom").remove();f.find(".slide:eq(0)").not(".bx-clone").after('<div class="slide" style="height:576px;">'+$(".ctp-galeria").html()+"</div>");f.find(".slide.bx-clone").remove();f.find(".slider-pane").unwrap().unwrap();sliderModalInit(f);$(".galeria.sliders-container .slider .slide").each(function(g){$(this).append('<div class="counter"><span class="slideIndex"><span class="count-index">1</span> <span class="dividir-icon"></span> <span class="count-total">'+b+"</span></span></div>")});f.children(".counter").find(".count-total").text(b)}$(".articulos .col_fija").remove();$("article.articulo .publicidad.su-target").remove();$(".article-bottom-ads").remove();$("#guardarDatos").remove();$(".mas-galerias").remove();$(".texto_redes_header, .otras-redes, #shareArticle .redes_mobile").addClass("cont-mask");$(".social-col .comentar span").removeAttr("class");$('.social-col [name="Comentar"]').removeClass("comentar");_satellite_track("abstract Premium")}};function evoInit(b,c){if(typeof evoReady.identity!="undefined"){return}$(document).mouseup(function(d){var f=$(".contador-articulos");if(!f.is(d.target)&&f.has(d.target).length===0){f.fadeOut("slow")}});window.articleId=$("body").data("articleId"),$articleCounter=$(".contador-articulos");(function a(){if(showMeter){evoReady.identity=b;evoReady(articleId,c);$articleCounter.find(".close-btn-pw").click(function(){$articleCounter.hide()})}else{if(typeof mostrarDmp=="function"){mostrarDmp()}c()}})()};
(function(b){var a=function(d){var c=this;d=d||{};if(typeof d=="string"){d={elements:d}}this.sel=null;this.textSelection="";this.htmlSelection="";this.appId=b('meta[property="fb:app_id"]').attr("content")||b('meta[property="fb:app_id"]').attr("value");this.url2share=b('meta[property="og:url"]').attr("content")||b('meta[property="og:url"]').attr("value")||window.location.href;this.getSelectionText=function(j){var h="",k="";j=j||window.getSelection();if(j.rangeCount){var f=document.createElement("div");for(var g=0,e=j.rangeCount;g<e;++g){f.appendChild(j.getRangeAt(g).cloneContents())}k=f.textContent;h=f.innerHTML}c.textSelection=k;c.htmlSelection=h||k;return k};this.selectionDirection=function(f){var g=f||window.getSelection();var e=document.createRange();if(!g.anchorNode){return 0}e.setStart(g.anchorNode,g.anchorOffset);e.setEnd(g.focusNode,g.focusOffset);var h=(e.collapsed)?"backward":"forward";e.detach();return h};this.showPopunder=function(){c.popunder=c.popunder||document.getElementById("selectionSharerPopunder");var j=window.getSelection();var g=c.getSelectionText(j);if(j.isCollapsed||g.length<10||!g.match(/ /)){return c.hidePopunder()}if(c.popunder.classList.contains("fixed")){c.popunder.style.bottom=0;return c.popunder.style.bottom}var e=j.getRangeAt(0);var h=e.endContainer.parentNode;if(c.popunder.classList.contains("show")){if(Math.ceil(c.popunder.getBoundingClientRect().top)==Math.ceil(h.getBoundingClientRect().bottom)){return}return c.hidePopunder(c.showPopunder)}if(h.nextElementSibling){c.pushSiblings(h)}else{if(!c.placeholder){c.placeholder=document.createElement("div");c.placeholder.className="selectionSharerPlaceholder"}var i=window.getComputedStyle(h).marginBottom;c.placeholder.style.height=i;c.placeholder.style.marginBottom=(-2*parseInt(i,10))+"px";h.parentNode.insertBefore(c.placeholder)}var f=window.pageYOffset+h.getBoundingClientRect().bottom;c.popunder.style.top=Math.ceil(f)+"px";setTimeout(function(){if(c.placeholder){c.placeholder.classList.add("show")}c.popunder.classList.add("show")},0)};this.pushSiblings=function(e){while(e=e.nextElementSibling){e.classList.add("selectionSharer");e.classList.add("moveDown")}};this.hidePopunder=function(e){e=e||function(){};if(c.popunder=="fixed"){c.popunder.style.bottom="-50px";return e()}c.popunder.classList.remove("show");if(c.placeholder){c.placeholder.classList.remove("show")}var f=document.getElementsByClassName("moveDown");while(el=f[0]){el.classList.remove("moveDown")}setTimeout(function(){if(c.placeholder){document.body.insertBefore(c.placeholder)}e()},600)};this.show=function(f){setTimeout(function(){var i=window.getSelection();var h=c.getSelectionText(i);if(!i.isCollapsed&&h&&h.length>10&&h.match(/ /)){var e=i.getRangeAt(0);var g=e.getBoundingClientRect().top-5;var l=g+c.getPosition().y-c.$popover.height();var k=0;if(f){k=f.pageX}else{var j=i.anchorNode.parentNode;k+=j.offsetWidth/2;do{k+=j.offsetLeft}while(j=j.offsetParent)}switch(c.selectionDirection(i)){case"forward":k-=c.$popover.width();break;case"backward":k+=c.$popover.width();break;default:return}c.$popover.removeClass("anim").css("top",l+10).css("left",k).show();setTimeout(function(){c.$popover.addClass("anim").css("top",l)},0)}},10)};this.hide=function(f){c.$popover.hide()};this.smart_truncate=function(g,h){if(!g||!g.length){return g}var f=g.length>h,e=f?g.substr(0,h-1):g;e=f?e.substr(0,e.lastIndexOf(" ")):e;return f?e+"...":e};this.getRelatedTwitterAccounts=function(){var g=[];var h=b('meta[name="twitter:creator"]').attr("content")||b('meta[name="twitter:creator"]').attr("value");if(h){g.push(h)}var j=document.getElementsByTagName("a");for(var f=0,e=j.length;f<e;f++){if(j[f].attributes.href&&typeof j[f].attributes.href.value=="string"){var k=j[f].attributes.href.value.match(/^https?:\/\/twitter\.com\/([a-z0-9_]{1,20})/i);if(k&&k.length>1&&["widgets","intent"].indexOf(k[1])==-1){g.push(k[1])}}}if(g.length>0){return g.join(",")}else{return""}};this.shareTwitter=function(l){l.preventDefault();var m="“"+c.smart_truncate(c.textSelection.trim(),114)+"”";var g="http://twitter.com/intent/tweet?text="+encodeURIComponent(m)+"&related="+c.relatedTwitterAccounts+"&url="+encodeURIComponent(window.location.href);if(c.viaTwitterAccount&&m.length<(120-6-c.viaTwitterAccount.length)){g+="&via="+c.viaTwitterAccount}var f=640,i=440;var k=(screen.width/2)-(f/2);var j=(screen.height/2)-(i/2)-100;window.open(g,"share_twitter","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+f+", height="+i+", top="+j+", left="+k);c.hide();return false};this.shareFacebook=function(l){l.preventDefault();var m=c.htmlSelection.replace(/<p[^>]*>/ig,"\n").replace(/<\/p>|  /ig,"").trim();var g="https://www.facebook.com/dialog/feed?app_id="+c.appId+"&display=popup&caption="+encodeURIComponent(m)+"&link="+encodeURIComponent(c.url2share)+"&href="+encodeURIComponent(c.url2share)+"&redirect_uri="+encodeURIComponent(c.url2share);var f=640,i=440;var k=(screen.width/2)-(f/2);var j=(screen.height/2)-(i/2)-100;window.open(g,"share_facebook","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+f+", height="+i+", top="+j+", left="+k)};this.shareEmail=function(g){var h=c.textSelection.replace(/<p[^>]*>/ig,"\n").replace(/<\/p>|  /ig,"").trim();var f={};f.subject=encodeURIComponent("Quote from "+document.title);f.body=encodeURIComponent("“"+h+"”")+"%0D%0A%0D%0AFrom: "+document.title+"%0D%0A"+window.location.href;b(this).attr("href","mailto:?subject="+f.subject+"&body="+f.body);c.hide();return true};this.render=function(){var f='<div class="selectionSharer" id="selectionSharerPopover" style="position:absolute;">  <div id="selectionSharerPopover-inner">    <ul>      <li><a class="action tweet" href="" title="Share this selection on Twitter" target="_blank">Tweet</a></li>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Facebook</a></li>      <li><a class="action email" href="" title="Share this selection by email" target="_blank"><svg width="20" height="20"><path stroke="%23FFF" stroke-width="6" d="m16,25h82v60H16zl37,37q4,3 8,0l37-37M16,85l30-30m22,0 30,30"/></svg></a></li>    </ul>  </div>  <div class="selectionSharerPopover-clip"><span class="selectionSharerPopover-arrow"></span></div></div>';var e='<div id="selectionSharerPopunder" class="selectionSharer">  <div id="selectionSharerPopunder-inner">    <label>Share this selection</label>    <ul>      <li><a class="action tweet" href="" title="Share this selection on Twitter" target="_blank">Tweet</a></li>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Facebook</a></li>      <li><a class="action email" href="" title="Share this selection by email" target="_blank"><svg width="20" height="20"><path stroke="%23FFF" stroke-width="6" d="m16,25h82v60H16zl37,37q4,3 8,0l37-37M16,85l30-30m22,0 30,30"/></svg></a></li>    </ul>  </div></div>';c.$popover=b(f);c.$popover.find("a.tweet").click(c.shareTwitter);c.$popover.find("a.facebook").click(c.shareFacebook);c.$popover.find("a.email").click(c.shareEmail);b("body").append(c.$popover);c.$popunder=b(e);c.$popunder.find("a.tweet").click(c.shareTwitter);c.$popunder.find("a.facebook").click(c.shareFacebook);c.$popunder.find("a.email").click(c.shareEmail);b("body").append(c.$popunder);if(c.appId&&c.url2share){b(".selectionSharer a.facebook").css("display","inline-block")}};this.setElements=function(e){if(typeof e=="string"){e=b(e)}c.$elements=e instanceof b?e:b(e);c.$elements.mouseup(c.show).mousedown(c.hide).addClass("selectionShareable");c.$elements.bind("touchstart",function(f){c.isMobile=true});document.onselectionchange=c.selectionChanged};this.selectionChanged=function(f){if(!c.isMobile){return}if(c.lastSelectionChanged){clearTimeout(c.lastSelectionChanged)}c.lastSelectionChanged=setTimeout(function(){c.showPopunder(f)},300)};this.getPosition=function(){var f=window.pageXOffset!==undefined;var g=((document.compatMode||"")==="CSS1Compat");var e=f?window.pageXOffset:g?document.documentElement.scrollLeft:document.body.scrollLeft;var h=f?window.pageYOffset:g?document.documentElement.scrollTop:document.body.scrollTop;return{x:e,y:h}};this.render();if(d.elements){this.setElements(d.elements)}};b.fn.selectionSharer=function(){var c=new a();c.setElements(this);return this};if(typeof define=="function"){define(function(){a.load=function(d,g,f,c){var e=new a();e.setElements("p");f()};return a})}else{window.SelectionSharer=a}})(jQuery);
typeof JSON!="object"&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}else{for(r in a){Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number"){for(r=0;r<n;r+=1){indent+=" "}}else{typeof n=="string"&&(indent=n)}rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number"){return str("",{"":e})}throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object"){for(n in i){Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n])}}return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(),function(c,a){var d=c.History=c.History||{},b=c.jQuery;if(typeof d.Adapter!="undefined"){throw new Error("History.js Adapter has already been loaded...")}d.Adapter={bind:function(g,f,h){b(g).bind(f,h)},trigger:function(g,f,h){b(g).trigger(f,h)},extractEventData:function(h,j,g){var f=j&&j.originalEvent&&j.originalEvent[h]||g&&g[h]||a;return f},onDomLoad:function(f){b(f)}},typeof d.init!="undefined"&&d.init()}(window),function(f,b){var h=f.document,d=f.setTimeout||d,a=f.clearTimeout||a,c=f.setInterval||c,g=f.History=f.History||{};if(typeof g.initHtml4!="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}g.initHtml4=function(){if(typeof g.initHtml4.initialized!="undefined"){return !1}g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(j){var i=g.getHashByIndex(),k;return k=j===i,k},g.isHashEqual=function(j,i){return j=encodeURIComponent(j).replace(/%25/g,"%"),i=encodeURIComponent(i).replace(/%25/g,"%"),j===i},g.saveHash=function(i){return g.isLastHash(i)?!1:(g.savedHashes.push(i),!0)},g.getHashByIndex=function(j){var i=null;return typeof j=="undefined"?i=g.savedHashes[g.savedHashes.length-1]:j<0?i=g.savedHashes[g.savedHashes.length+j]:i=g.savedHashes[j],i},g.discardedHashes={},g.discardedStates={},g.discardState=function(m,k,o){var l=g.getHashByState(m),j;return j={discardedState:m,backState:o,forwardState:k},g.discardedStates[l]=j,!0},g.discardHash=function(k,i,l){var j={discardedHash:k,backState:l,forwardState:i};return g.discardedHashes[k]=j,!0},g.discardedState=function(j){var i=g.getHashByState(j),k;return k=g.discardedStates[i]||!1,k},g.discardedHash=function(j){var i=g.discardedHashes[j]||!1;return i},g.recycleState=function(j){var i=g.getHashByState(j);return g.discardedState(j)&&delete g.discardedStates[i],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var l="",m,k,j,e,n=Boolean(g.getHash());return g.isInternetExplorer()?(m="historyjs-iframe",k=h.createElement("iframe"),k.setAttribute("id",m),k.setAttribute("src","#"),k.style.display="none",h.body.appendChild(k),k.contentWindow.document.open(),k.contentWindow.document.close(),j="",e=!1,g.checkerFunction=function(){if(e){return !1}e=!0;var o=g.getHash(),i=g.getHash(k.contentWindow.document);return o!==l?(l=o,i!==o&&(j=i=o,k.contentWindow.document.open(),k.contentWindow.document.close(),k.contentWindow.document.location.hash=g.escapeHash(o)),g.Adapter.trigger(f,"hashchange")):i!==j&&(j=i,n&&i===""?g.back():g.setHash(i,!1)),e=!1,!0}):g.checkerFunction=function(){var i=g.getHash()||"";return i!==l&&(l=i,g.Adapter.trigger(f,"hashchange")),!0},g.intervalList.push(c(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(l){var p=l&&l.newURL||g.getLocationHref(),o=g.getHashByUrl(p),k=null,m=null,j=null,e;return g.isLastHash(o)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(o),o&&g.isTraditionalAnchor(o)?(g.Adapter.trigger(f,"anchorchange"),g.busy(!1),!1):(k=g.extractState(g.getFullUrl(o||g.getLocationHref()),!0),g.isLastSavedState(k)?(g.busy(!1),!1):(m=g.getHashByState(k),e=g.discardedState(k),e?(g.getHashByIndex(-2)===g.getHashByState(e.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(k.data,k.title,encodeURI(k.url),!1),!0))))},g.Adapter.bind(f,"hashchange",g.onHashChange),g.pushState=function(w,j,e,m){e=encodeURI(e).replace(/%25/g,"%");if(g.getHashByUrl(e)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(m!==!1&&g.busy()){return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:m}),!1}g.busy(!0);var x=g.createStateObject(w,j,e),v=g.getHashByState(x),q=g.getState(!1),o=g.getHashByState(q),k=g.getHash(),p=g.expectedStateId==x.id;return g.storeState(x),g.expectedStateId=x.id,g.recycleState(x),g.setTitle(x),v===o?(g.busy(!1),!1):(g.saveState(x),p||g.Adapter.trigger(f,"statechange"),!g.isHashEqual(v,k)&&!g.isHashEqual(v,g.getShortUrl(g.getLocationHref()))&&g.setHash(v,!1),g.busy(!1),!0)},g.replaceState=function(v,j,e,m){e=encodeURI(e).replace(/%25/g,"%");if(g.getHashByUrl(e)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(m!==!1&&g.busy()){return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:m}),!1}g.busy(!0);var w=g.createStateObject(v,j,e),q=g.getHashByState(w),p=g.getState(!1),o=g.getHashByState(p),k=g.getStateByIndex(-2);return g.discardState(p,w,k),q===o?(g.storeState(w),g.expectedStateId=w.id,g.recycleState(w),g.setTitle(w),g.saveState(w),g.Adapter.trigger(f,"statechange"),g.busy(!1)):g.pushState(w.data,w.title,w.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(f,"hashchange")})},typeof g.init!="undefined"&&g.init()}(window),function(x,C){var k=x.console||C,b=x.document,q=x.navigator,D=x.sessionStorage||!1,j=x.setTimeout,B=x.clearTimeout,A=x.setInterval,w=x.clearInterval,m=x.JSON,z=x.alert,v=x.History=x.History||{},g=x.history;try{D.setItem("TEST","1"),D.removeItem("TEST")}catch(y){D=!1}m.stringify=m.stringify||m.encode,m.parse=m.parse||m.decode;if(typeof v.init!="undefined"){throw new Error("History.js Core has already been loaded...")}v.init=function(a){return typeof v.Adapter=="undefined"?!1:(typeof v.initCore!="undefined"&&v.initCore(),typeof v.initHtml4!="undefined"&&v.initHtml4(),!0)},v.initCore=function(e){if(typeof v.initCore.initialized!="undefined"){return !1}v.initCore.initialized=!0,v.options=v.options||{},v.options.hashChangeInterval=v.options.hashChangeInterval||100,v.options.safariPollInterval=v.options.safariPollInterval||500,v.options.doubleCheckInterval=v.options.doubleCheckInterval||500,v.options.disableSuid=v.options.disableSuid||!1,v.options.storeInterval=v.options.storeInterval||1000,v.options.busyDelay=v.options.busyDelay||250,v.options.debug=v.options.debug||!1,v.options.initialTitle=v.options.initialTitle||b.title,v.options.html4Mode=v.options.html4Mode||!1,v.options.delayInit=v.options.delayInit||!1,v.intervalList=[],v.clearAllIntervals=function(){var f,d=v.intervalList;if(typeof d!="undefined"&&d!==null){for(f=0;f<d.length;f++){w(d[f])}v.intervalList=null}},v.debug=function(){(v.options.debug||!1)&&v.log.apply(v,arguments)},v.log=function(){var E=typeof k!="undefined"&&typeof k.log!="undefined"&&typeof k.log.apply!="undefined",n=b.getElementById("log"),l,p,F,h,d;E?(h=Array.prototype.slice.call(arguments),l=h.shift(),typeof k.debug!="undefined"?k.debug.apply(k,[l,h]):k.log.apply(k,[l,h])):l="\n"+arguments[0]+"\n";for(p=1,F=arguments.length;p<F;++p){d=arguments[p];if(typeof d=="object"&&typeof m!="undefined"){try{d=m.stringify(d)}catch(r){}}l+="\n"+d+"\n"}return n?(n.value+=l+"\n-----\n",n.scrollTop=n.scrollHeight-n.clientHeight):E||z(l),!0},v.getInternetExplorerMajorVersion=function(){var d=v.getInternetExplorerMajorVersion.cached=typeof v.getInternetExplorerMajorVersion.cached!="undefined"?v.getInternetExplorerMajorVersion.cached:function(){var h=3,f=b.createElement("div"),i=f.getElementsByTagName("i");while((f.innerHTML="<!--[if gt IE "+ ++h+"]><i></i><![endif]-->")&&i[0]){}return h>4?h:!1}();return d},v.isInternetExplorer=function(){var d=v.isInternetExplorer.cached=typeof v.isInternetExplorer.cached!="undefined"?v.isInternetExplorer.cached:Boolean(v.getInternetExplorerMajorVersion());return d},v.options.html4Mode?v.emulated={pushState:!0,hashChange:!0}:v.emulated={pushState:!Boolean(x.history&&x.history.pushState&&x.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(q.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(q.userAgent)),hashChange:Boolean(!("onhashchange" in x||"onhashchange" in b)||v.isInternetExplorer()&&v.getInternetExplorerMajorVersion()<8)},v.enabled=!v.emulated.pushState,v.bugs={setHash:Boolean(!v.emulated.pushState&&q.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(q.userAgent)),safariPoll:Boolean(!v.emulated.pushState&&q.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(q.userAgent)),ieDoubleCheck:Boolean(v.isInternetExplorer()&&v.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(v.isInternetExplorer()&&v.getInternetExplorerMajorVersion()<7)},v.isEmptyObject=function(f){for(var d in f){if(f.hasOwnProperty(d)){return !1}}return !0},v.cloneObject=function(f){var d,h;return f?(d=m.stringify(f),h=m.parse(d)):h={},h},v.getRootUrl=function(){var d=b.location.protocol+"//"+(b.location.hostname||b.location.host);if(b.location.port||!1){d+=":"+b.location.port}return d+="/",d},v.getBaseHref=function(){var f=b.getElementsByTagName("base"),d=null,h="";return f.length===1&&(d=f[0],h=d.href.replace(/[^\/]+$/,"")),h=h.replace(/\/+$/,""),h&&(h+="/"),h},v.getBaseUrl=function(){var d=v.getBaseHref()||v.getBasePageUrl()||v.getRootUrl();return d},v.getPageUrl=function(){var f=v.getState(!1,!1),d=(f||{}).url||v.getLocationHref(),h;return h=d.replace(/\/+$/,"").replace(/[^\/]+$/,function(l,i,o){return/\./.test(l)?l:l+"/"}),h},v.getBasePageUrl=function(){var d=v.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(h,f,i){return/[^\/]$/.test(h)?"":h}).replace(/\/+$/,"")+"/";return d},v.getFullUrl=function(h,d){var i=h,f=h.substring(0,1);return d=typeof d=="undefined"?!0:d,/[a-z]+\:\/\//.test(h)||(f==="/"?i=v.getRootUrl()+h.replace(/^\/+/,""):f==="#"?i=v.getPageUrl().replace(/#.*/,"")+h:f==="?"?i=v.getPageUrl().replace(/[\?#].*/,"")+h:d?i=v.getBaseUrl()+h.replace(/^(\.\/)+/,""):i=v.getBasePageUrl()+h.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},v.getShortUrl=function(h){var d=h,i=v.getBaseUrl(),f=v.getRootUrl();return v.emulated.pushState&&(d=d.replace(i,"")),d=d.replace(f,"/"),v.isTraditionalAnchor(d)&&(d="./"+d),d=d.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),d},v.getLocationHref=function(d){return d=d||b,d.URL===d.location.href?d.location.href:d.location.href===decodeURIComponent(d.URL)?d.URL:d.location.hash&&decodeURIComponent(d.location.href.replace(/^[^#]+/,""))===d.location.hash?d.location.href:d.URL.indexOf("#")==-1&&d.location.href.indexOf("#")!=-1?d.location.href:d.URL||d.location.href},v.store={},v.idToState=v.idToState||{},v.stateToId=v.stateToId||{},v.urlToId=v.urlToId||{},v.storedStates=v.storedStates||[],v.savedStates=v.savedStates||[],v.normalizeStore=function(){v.store.idToState=v.store.idToState||{},v.store.urlToId=v.store.urlToId||{},v.store.stateToId=v.store.stateToId||{}},v.getState=function(f,d){typeof f=="undefined"&&(f=!0),typeof d=="undefined"&&(d=!0);var h=v.getLastSavedState();return !h&&d&&(h=v.createStateObject()),f&&(h=v.cloneObject(h),h.url=h.cleanUrl||h.url),h},v.getIdByState=function(f){var d=v.extractId(f.url),h;if(!d){h=v.getStateString(f);if(typeof v.stateToId[h]!="undefined"){d=v.stateToId[h]}else{if(typeof v.store.stateToId[h]!="undefined"){d=v.store.stateToId[h]}else{for(;;){d=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof v.idToState[d]=="undefined"&&typeof v.store.idToState[d]=="undefined"){break}}v.stateToId[h]=d,v.idToState[d]=f}}}return d},v.normalizeState=function(f){var d,h;if(!f||typeof f!="object"){f={}}if(typeof f.normalized!="undefined"){return f}if(!f.data||typeof f.data!="object"){f.data={}}return d={},d.normalized=!0,d.title=f.title||"",d.url=v.getFullUrl(f.url?f.url:v.getLocationHref()),d.hash=v.getShortUrl(d.url),d.data=v.cloneObject(f.data),d.id=v.getIdByState(d),d.cleanUrl=d.url.replace(/\??\&_suid.*/,""),d.url=d.cleanUrl,h=!v.isEmptyObject(d.data),(d.title||h)&&v.options.disableSuid!==!0&&(d.hash=v.getShortUrl(d.url).replace(/\??\&_suid.*/,""),/\?/.test(d.hash)||(d.hash+="?"),d.hash+="&_suid="+d.id),d.hashedUrl=v.getFullUrl(d.hash),(v.emulated.pushState||v.bugs.safariPoll)&&v.hasUrlDuplicate(d)&&(d.url=d.hashedUrl),d},v.createStateObject=function(h,d,i){var f={data:h,title:d,url:i};return f=v.normalizeState(f),f},v.getStateById=function(d){d=String(d);var f=v.idToState[d]||v.store.idToState[d]||C;return f},v.getStateString=function(h){var d,i,f;return d=v.normalizeState(h),i={data:d.data,title:h.title,url:h.url},f=m.stringify(i),f},v.getStateId=function(f){var d,h;return d=v.normalizeState(f),h=d.id,h},v.getHashByState=function(f){var d,h;return d=v.normalizeState(f),h=d.hash,h},v.extractId=function(l){var f,o,h,d;return l.indexOf("#")!=-1?d=l.split("#")[0]:d=l,o=/(.*)\&_suid=([0-9]+)$/.exec(d),h=o?o[1]||l:l,f=o?String(o[2]||""):"",f||!1},v.isTraditionalAnchor=function(f){var d=!/[\/\?\.]/.test(f);return d},v.extractState=function(l,f){var o=null,h,d;return f=f||!1,h=v.extractId(l),h&&(o=v.getStateById(h)),o||(d=v.getFullUrl(l),h=v.getIdByUrl(d)||!1,h&&(o=v.getStateById(h)),!o&&f&&!v.isTraditionalAnchor(l)&&(o=v.createStateObject(null,null,d))),o},v.getIdByUrl=function(d){var f=v.urlToId[d]||v.store.urlToId[d]||C;return f},v.getLastSavedState=function(){return v.savedStates[v.savedStates.length-1]||C},v.getLastStoredState=function(){return v.storedStates[v.storedStates.length-1]||C},v.hasUrlDuplicate=function(f){var d=!1,h;return h=v.extractState(f.url),d=h&&h.id!==f.id,d},v.storeState=function(d){return v.urlToId[d.url]=d.id,v.storedStates.push(v.cloneObject(d)),d},v.isLastSavedState=function(l){var f=!1,o,h,d;return v.savedStates.length&&(o=l.id,h=v.getLastSavedState(),d=h.id,f=o===d),f},v.saveState=function(d){return v.isLastSavedState(d)?!1:(v.savedStates.push(v.cloneObject(d)),!0)},v.getStateByIndex=function(f){var d=null;return typeof f=="undefined"?d=v.savedStates[v.savedStates.length-1]:f<0?d=v.savedStates[v.savedStates.length+f]:d=v.savedStates[f],d},v.getCurrentIndex=function(){var d=null;return v.savedStates.length<1?d=0:d=v.savedStates.length-1,d},v.getHash=function(f){var d=v.getLocationHref(f),h;return h=v.getHashByUrl(d),h},v.unescapeHash=function(f){var d=v.normalizeHash(f);return d=decodeURIComponent(d),d},v.normalizeHash=function(f){var d=f.replace(/[^#]*#/,"").replace(/#.*/,"");return d},v.setHash=function(h,f){var l,d;return f!==!1&&v.busy()?(v.pushQueue({scope:v,callback:v.setHash,args:arguments,queue:f}),!1):(v.busy(!0),l=v.extractState(h,!0),l&&!v.emulated.pushState?v.pushState(l.data,l.title,l.url,!1):v.getHash()!==h&&(v.bugs.setHash?(d=v.getPageUrl(),v.pushState(null,null,d+"#"+h,!1)):b.location.hash=h),v)},v.escapeHash=function(d){var f=v.normalizeHash(d);return f=x.encodeURIComponent(f),v.bugs.hashEscape||(f=f.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),f},v.getHashByUrl=function(f){var d=String(f).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return d=v.unescapeHash(d),d},v.setTitle=function(h){var f=h.title,l;f||(l=v.getStateByIndex(0),l&&l.url===h.url&&(f=l.title||v.options.initialTitle));try{b.getElementsByTagName("title")[0].innerHTML=f.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(d){}return b.title=f,v},v.queues=[],v.busy=function(f){typeof f!="undefined"?v.busy.flag=f:typeof v.busy.flag=="undefined"&&(v.busy.flag=!1);if(!v.busy.flag){B(v.busy.timeout);var d=function(){var i,l,h;if(v.busy.flag){return}for(i=v.queues.length-1;i>=0;--i){l=v.queues[i];if(l.length===0){continue}h=l.shift(),v.fireQueueItem(h),v.busy.timeout=j(d,v.options.busyDelay)}};v.busy.timeout=j(d,v.options.busyDelay)}return v.busy.flag},v.busy.flag=!1,v.fireQueueItem=function(d){return d.callback.apply(d.scope||v,d.args||[])},v.pushQueue=function(d){return v.queues[d.queue||0]=v.queues[d.queue||0]||[],v.queues[d.queue||0].push(d),v},v.queue=function(f,d){return typeof f=="function"&&(f={callback:f}),typeof d!="undefined"&&(f.queue=d),v.busy()?v.pushQueue(f):v.fireQueueItem(f),v},v.clearQueue=function(){return v.busy.flag=!1,v.queues=[],v},v.stateChanged=!1,v.doubleChecker=!1,v.doubleCheckComplete=function(){return v.stateChanged=!0,v.doubleCheckClear(),v},v.doubleCheckClear=function(){return v.doubleChecker&&(B(v.doubleChecker),v.doubleChecker=!1),v},v.doubleCheck=function(d){return v.stateChanged=!1,v.doubleCheckClear(),v.bugs.ieDoubleCheck&&(v.doubleChecker=j(function(){return v.doubleCheckClear(),v.stateChanged||d(),!0},v.options.doubleCheckInterval)),v},v.safariStatePoll=function(){var d=v.extractState(v.getLocationHref()),f;if(!v.isLastSavedState(d)){return f=d,f||(f=v.createStateObject()),v.Adapter.trigger(x,"popstate"),v}return},v.back=function(d){return d!==!1&&v.busy()?(v.pushQueue({scope:v,callback:v.back,args:arguments,queue:d}),!1):(v.busy(!0),v.doubleCheck(function(){v.back(!1)}),g.go(-1),!0)},v.forward=function(d){return d!==!1&&v.busy()?(v.pushQueue({scope:v,callback:v.forward,args:arguments,queue:d}),!1):(v.busy(!0),v.doubleCheck(function(){v.forward(!1)}),g.go(1),!0)},v.go=function(f,d){var h;if(f>0){for(h=1;h<=f;++h){v.forward(d)}}else{if(!(f<0)){throw new Error("History.go: History.go requires a positive or negative integer passed.")}for(h=-1;h>=f;--h){v.back(d)}}return v};if(v.emulated.pushState){var c=function(){};v.pushState=v.pushState||c,v.replaceState=v.replaceState||c}else{v.onPopState=function(f,u){var l=!1,d=!1,h,p;return v.doubleCheckComplete(),h=v.getHash(),h?(p=v.extractState(h||v.getLocationHref(),!0),p?v.replaceState(p.data,p.title,p.url,!1):(v.Adapter.trigger(x,"anchorchange"),v.busy(!1)),v.expectedStateId=!1,!1):(l=v.Adapter.extractEventData("state",f,u)||!1,l?d=v.getStateById(l):v.expectedStateId?d=v.getStateById(v.expectedStateId):d=v.extractState(v.getLocationHref()),d||(d=v.createStateObject(null,null,v.getLocationHref())),v.expectedStateId=!1,v.isLastSavedState(d)?(v.busy(!1),!1):(v.storeState(d),v.saveState(d),v.setTitle(d),v.Adapter.trigger(x,"statechange"),v.busy(!1),!0))},v.Adapter.bind(x,"popstate",v.onPopState),v.pushState=function(f,o,l,d){if(v.getHashByUrl(l)&&v.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&v.busy()){return v.pushQueue({scope:v,callback:v.pushState,args:arguments,queue:d}),!1}v.busy(!0);var h=v.createStateObject(f,o,l);return v.isLastSavedState(h)?v.busy(!1):(v.storeState(h),v.expectedStateId=h.id,g.pushState(h.id,h.title,h.url),v.Adapter.trigger(x,"popstate")),!0},v.replaceState=function(f,o,l,d){if(v.getHashByUrl(l)&&v.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&v.busy()){return v.pushQueue({scope:v,callback:v.replaceState,args:arguments,queue:d}),!1}v.busy(!0);var h=v.createStateObject(f,o,l);return v.isLastSavedState(h)?v.busy(!1):(v.storeState(h),v.expectedStateId=h.id,g.replaceState(h.id,h.title,h.url),v.Adapter.trigger(x,"popstate")),!0}}if(D){try{v.store=m.parse(D.getItem("History.store"))||{}}catch(a){v.store={}}v.normalizeStore()}else{v.store={},v.normalizeStore()}v.Adapter.bind(x,"unload",v.clearAllIntervals),v.saveState(v.storeState(v.extractState(v.getLocationHref(),!0))),D&&(v.onUnload=function(){var l,f,o;try{l=m.parse(D.getItem("History.store"))||{}}catch(h){l={}}l.idToState=l.idToState||{},l.urlToId=l.urlToId||{},l.stateToId=l.stateToId||{};for(f in v.idToState){if(!v.idToState.hasOwnProperty(f)){continue}l.idToState[f]=v.idToState[f]}for(f in v.urlToId){if(!v.urlToId.hasOwnProperty(f)){continue}l.urlToId[f]=v.urlToId[f]}for(f in v.stateToId){if(!v.stateToId.hasOwnProperty(f)){continue}l.stateToId[f]=v.stateToId[f]}v.store=l,v.normalizeStore(),o=m.stringify(l);try{D.setItem("History.store",o)}catch(d){if(d.code!==DOMException.QUOTA_EXCEEDED_ERR){throw d}D.length&&(D.removeItem("History.store"),D.setItem("History.store",o))}},v.intervalList.push(A(v.onUnload,v.options.storeInterval)),v.Adapter.bind(x,"beforeunload",v.onUnload),v.Adapter.bind(x,"unload",v.onUnload));if(!v.emulated.pushState){v.bugs.safariPoll&&v.intervalList.push(A(v.safariStatePoll,v.options.safariPollInterval));if(q.vendor==="Apple Computer, Inc."||(q.appCodeName||"")==="Mozilla"){v.Adapter.bind(x,"hashchange",function(){v.Adapter.trigger(x,"popstate")}),v.getHash()&&v.Adapter.onDomLoad(function(){v.Adapter.trigger(x,"hashchange")})}}},(!v.options||!v.options.delayInit)&&v.init()}(window);
$(function(){var a=$(".menu_principal").parent();var e=a.find(".expandable");d(e);function d(f){f.each(function(){var g=$(this);var j=g.find(">.menu_level_1");var i=0;var h=0;var k=0;h=parseInt(g.width());k=parseInt(j.outerWidth());if(k>h){i+=(-k+h)/2}if(h>k){i+=(h-k)/2}if(i!==0){j.css("transform","translateX("+i+"px)")}})}var c=$(".texto_redes7");var b=c.find(".switcher");b.click(function(){$(this).toggleClass("cerrar");c.find(".lista-redes").toggleClass("completa")})});
(function saveArticle(){if(window.saveArticle){return}window.saveArticle=true;$(document).on("click","a.save-article",function(c){c.preventDefault();var d=$(this),b=d.data("url"),a=d.data("save");if(d.find(".tooltip-guardar").hasClass("open")){cerrarTooltip();return false}if(typeof b!="undefined"&&typeof a!="undefined"){$.get("/sesion/check-user",function(e){if(typeof e=="object"&&typeof e.authenticated!="undefined"&&e.authenticated){d.find(".authenticate-required").hide();var f={url:b,dataType:"json",jsonp:false,crossDomain:true,method:"POST",data:$.param(a),success:function(g){var h=".tooltip-error";if(g&&["agregado","actualizado"].indexOf(g.result)>=0){h=".tooltip-success-updated"}h=d.parent().find(h).html();d.find(".tooltip-guardar").addClass("open").html(h).fadeIn("slow");setTimeout(function(){cerrarTooltip()},5000)}};if("withCredentials" in new XMLHttpRequest()){f.xhrFields={withCredentials:true}}jQuery.ajax(f)}else{d.find(".tooltip-guardar").addClass("open").show();setTimeout(function(){cerrarTooltip()},5000)}})}})})();function cerrarTooltip(){var a=$(".tooltip-guardar");if(a.hasClass("open")){a.removeClass("open").fadeOut("slow");return false}}$("#videoread, #pauta_parallax").appendTo("#contenido p:nth-child(2)");$("#pauta_parallax").css("display","block");